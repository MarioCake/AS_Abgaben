class BaseViewModel{constructor(){this.css=ko.observable(null);this.click=ko.observable(()=>{});this.style=ko.observable({})}}class CookieViewModel extends BaseViewModel{constructor(){super();this.gameState=ko.observable(null);$.ajax({url:"/GameState/GetLast",method:"GET",success:function(n){this.gameState(ko.mapping.fromJS(n))}});this.popups=ko.observableArray([])}addCookie(){this.amountCookies(this.amountCookies()+this.cookieClickAmount);let n=new Popup(this.cookieClickAmount+"+",{x:0,y:0},{x:200,y:200});this.popups.push(n);setTimeout(this.popups.remove.bind(this.popups,n),2e3)}}class Popup extends BaseViewModel{static get upMoveRange(){return 200}static get sideMoveRange(){return 50}constructor(n,t,i){super();this.text=ko.observable(n);let r=Math.random()*(i.x-t.x)+t.x,u=Math.random()*(i.y-t.y)+t.y;this.position=ko.observable({x:r,y:u});this.runAnimation()}runAnimation(){this.css({"popup-show":!0});this.style({left:this.position().x+"px",top:this.position().y+"px"});setTimeout(()=>{this.css({"popup-hide":!0}),this.position().y-=Math.random()*Popup.upMoveRange+Popup.upMoveRange/4,this.position().x+=Math.random()*Popup.sideMoveRange-Popup.sideMoveRange/2,this.style({left:this.position().x+"px",top:this.position().y+"px"})},100)}}